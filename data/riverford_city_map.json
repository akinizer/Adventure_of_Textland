{
    "city_id": "riverford",
    "name": "Riverford Layout",
    "grid_size": {"width": 8, "height": 12},
    "entry_points": {
        "from_north_gate": {"x": 3, "y": 0, "facing_direction": "south"}
    },
    "cells": [
        [
            {"type": "wall_city_edge"}, {"type": "wall_city_edge"}, {"type": "wall_city_edge"},
            {"type": "city_gate_north", "description": "North Gate - To the Southern Road", "action": {"type": "exit_to_zone_map", "target_zone_loc_id": "riverford_city_node"}},
            {"type": "wall_city_edge"}, {"type": "wall_city_edge"}, {"type": "wall_city_edge"}, {"type": "wall_city_edge"}
        ],
        [
            {"type": "building_house_small", "name": "Riverwood Mill Office"}, {"type": "path", "description": "Path from the North Gate."},
            {"type": "market_stall_fish", "name": "Old Man Tiber's Fish"}, {"type": "path_market_center", "description": "North Market Area"},
            {"type": "market_stall_food", "name": "Elara's Baked Goods"}, {"type": "path"},
            {"type": "building_house_small", "name": "Empty Stall"}, {"type": "wall_city_edge"}
        ],
        [
            {"type": "wall_city_edge"}, {"type": "path"},
            {"type": "path_market_center", "description": "West Market Stalls"}, {"type": "path_market_center", "description": "Riverford Market Center", "feature_id": "riverford_town_well"},
            {"type": "path_market_center", "description": "East Market Stalls"}, {"type": "market_stall_generic", "name": "Traveling Merchant's Cart"},
            {"type": "path"}, {"type": "wall_city_edge"}
        ],
        [
            {"type": "building_house_medium", "name": "The Sleeping Carp Inn"}, {"type": "market_stall_generic", "name": "Pottery & Tools"},
            {"type": "path"}, {"type": "path_market_center"}, {"type": "path"},
            {"type": "building_house_small", "name": "Tailor's Shop"}, {"type": "building_house_small"}, {"type": "wall_city_edge"}
        ],
        [
            {"type": "wall_city_edge"}, {"type": "path_riverside", "description": "Path along the riverbank."},
            {"type": "path_riverside"}, {"type": "path_riverside", "npc_id": "riverford_fisherman", "description": "A fisherman casts his line."},
            {"type": "path_riverside"}, {"type": "path_riverside"},
            {"type": "path_riverside"}, {"type": "wall_city_edge"}
        ],
        [
            {"type": "wall_city_edge"}, {"type": "path"},
            {"type": "building_house_small"}, {"type": "path_market_center", "description": "South Market Area"},
            {"type": "building_house_small"}, {"type": "path"},
            {"type": "path"}, {"type": "wall_city_edge"}
        ],
        [
            {"type": "wall_city_edge"}, {"type": "path"}, {"type": "path"}, {"type": "path"}, {"type": "path"},
            {"type": "path"}, {"type": "path"}, {"type": "wall_city_edge"}
        ],
        [
            {"type": "wall_city_edge"}, {"type": "wall_city_edge"}, {"type": "wall_city_edge"},
            {"type": "city_gate_internal", "description": "Archway to the Training Grounds", "action": {"type": "move_to_cell", "target_cell": {"x": 3, "y": 8}}},
            {"type": "wall_city_edge"}, {"type": "wall_city_edge"}, {"type": "wall_city_edge"}, {"type": "wall_city_edge"}
        ],
        [
            {"type": "arena_wall"}, {"type": "arena_wall"}, {"type": "arena_wall"},
            {"type": "city_gate_internal", "description": "Archway to the Market", "action": {"type": "move_to_cell", "target_cell": {"x": 3, "y": 7}}},
            {"type": "arena_wall"}, {"type": "arena_wall"}, {"type": "arena_wall"}, {"type": "arena_wall"}
        ],
        [
            {"type": "arena_wall"}, {"type": "training_ground_path", "description": "Compacted earth of the training yard."},
            {"type": "training_ground_path", "npc_id": "riverford_sparring_captain", "description": "A stern-looking captain observes."},
            {"type": "training_ground_path", "description": "Center of the yard."},
            {"type": "training_ground_path", "npc_id": "training_dummy_heavy", "description": "A heavily padded training dummy."},
            {"type": "training_ground_path"},
            {"type": "training_ground_path", "npc_id": "recruit_fighter_1", "description": "A recruit practices their swings."},
            {"type": "arena_wall"}
        ],
        [
            {"type": "arena_wall"}, {"type": "training_ground_path"},
            {"type": "training_ground_path", "npc_id": "recruit_fighter_2", "description": "Another recruit spars."},
            {"type": "training_ground_path", "feature_id": "weapon_rack_basic", "description": "A rack holds blunted practice weapons."},
            {"type": "training_ground_path"}, {"type": "training_ground_path"},
            {"type": "training_ground_path"}, {"type": "arena_wall"}
        ],
        [
            {"type": "arena_wall"}, {"type": "arena_wall"}, {"type": "arena_wall"}, {"type": "arena_wall"},
            {"type": "arena_wall"}, {"type": "arena_wall"}, {"type": "arena_wall"}, {"type": "arena_wall"}
        ]
    ],
    "legend": {
        "wall_city_edge": {"symbol": "üß±", "description": "Town Wall/Boundary"},
        "path": {"symbol": "üë£", "description": "Path"},
        "path_riverside": {"symbol": "üåä", "description": "Riverside Path"},
        "building_house_small": {"symbol": "üè°", "description": "Small Building"},
        "building_house_medium": {"symbol": "üè†", "description": "Medium Building"},
        "city_gate_north": {"symbol": "‚õ©Ô∏è", "description": "North Gate"},
        "city_gate_internal": {"symbol": "üö™", "description": "Internal Archway/Gate"},
        "market_stall_fish": {"symbol": "üêü", "description": "Fish Stall"},
        "market_stall_food": {"symbol": "ü•ñ", "description": "Food Stall"},
        "market_stall_generic": {"symbol": "üß∫", "description": "Market Stall"},
        "path_market_center": {"symbol": "Âª£Â†¥", "description": "Market Square Area"},
        "arena_wall": {"symbol": "üöß", "description": "Training Ground Fence/Wall"},
        "training_ground_path": {"symbol": "ü§∫", "description": "Training Ground"}
    }
}
